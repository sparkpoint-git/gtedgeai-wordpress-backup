"use strict"; var filebirdGallery = { template: '\n    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">\n    <div class="pswp__bg"></div>\n    <div class="pswp__scroll-wrap">\n        <div class="pswp__container">\n            <div class="pswp__item"></div>\n            <div class="pswp__item"></div>\n            <div class="pswp__item"></div>\n        </div>\n        <div class="pswp__ui pswp__ui--hidden">\n            <div class="pswp__top-bar">\n                <div class="pswp__counter"></div>\n                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>\n                <button class="pswp__button pswp__button--share" title="Share"></button>\n                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>\n                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>\n                <div class="pswp__preloader">\n                    <div class="pswp__preloader__icn">\n                      <div class="pswp__preloader__cut">\n                        <div class="pswp__preloader__donut"></div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">\n                <div class="pswp__share-tooltip"></div> \n            </div>\n            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">\n            </button>\n            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">\n            </button>\n            <div class="pswp__caption">\n                <div class="pswp__caption__center"></div>\n            </div>\n        </div>\n    </div>\n    </div>', createGallery: function (e) { document.getElementsByClassName("pswp").length || document.body.insertAdjacentHTML("beforeend", filebirdGallery.template), filebirdGallery.initPhotoSwipeFromDOM(e) }, parseThumbnailElements: function (e) { for (var t, n, i, s, l, r = e.childNodes, o = r.length, a = [], p = 0; p < o; p++)s = (i = r[p]).querySelector("img"), n = (t = i.querySelector("figure")).querySelector("figcaption") || document.createElement("figcaption"), l = { src: s.getAttribute("src"), w: parseInt(s.getAttribute("width"), 10), h: parseInt(s.getAttribute("height"), 10), title: s.getAttribute("alt") + ' <div class="fbv-gallery-caption">' + n.innerHTML + "</div>", msrc: s.getAttribute("src"), el: t }, a.push(l); return a }, openPhotoSwipe: function (e, t, n, i) { var s, l, r = document.querySelectorAll(".pswp")[0]; if (l = filebirdGallery.parseThumbnailElements(t), s = { galleryUID: t.getAttribute("data-pswp-uid"), getThumbBoundsFn: function (e) { var t = l[e].el.getElementsByTagName("img")[0], n = window.pageYOffset || document.documentElement.scrollTop, i = t.getBoundingClientRect(); return { x: i.left, y: i.top + n, w: i.width } } }, i) if (s.galleryPIDs) { for (var o = 0; o < l.length; o++)if (l[o].pid == e) { s.index = o; break } } else s.index = parseInt(e, 10) - 1; else s.index = parseInt(e, 10); isNaN(s.index) || (n && (s.showAnimationDuration = 0), new PhotoSwipe(r, PhotoSwipeUI_Default, l, s).init()) }, onThumbnailsClick: function (e) { var t = (e = e || window.event).target || e.srcElement; if ("a" !== t.tagName.toLowerCase()) { e.preventDefault ? e.preventDefault() : e.returnValue = !1; var n = t.closest(".blocks-gallery-item"); if (n) { for (var i, s = n.parentNode, l = n.parentNode.childNodes, r = l.length, o = 0, a = 0; a < r; a++)if (1 === l[a].nodeType) { if (l[a] === n) { i = o; break } o++ } return i >= 0 && filebirdGallery.openPhotoSwipe(i, s), !1 } } }, initPhotoSwipeFromDOM: function (e) { for (var t = document.querySelectorAll(e), n = 0, i = t.length; n < i; n++)t[n].setAttribute("data-pswp-uid", n + 1), t[n].onclick = filebirdGallery.onThumbnailsClick } }; document.addEventListener("DOMContentLoaded", (function () { filebirdGallery.createGallery(".filebird-block-filebird-gallery") }));